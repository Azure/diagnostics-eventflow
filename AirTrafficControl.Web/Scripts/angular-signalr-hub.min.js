angular.module("SignalR",[]).constant("$",window.jQuery).factory("Hub",["$",function(a){function c(b){var c=null;return c=b&&b.rootPath?a.hubConnection(b.rootPath,{useDefaultPath:!1}):a.hubConnection(),c.logging=b&&b.logging?!0:!1,c}function d(a){var d=!(a&&a.useSharedConnection===!1);return d?"undefined"==typeof b[a.rootPath]?b[a.rootPath]=c(a):b[a.rootPath]:c(a)}var b=[];return function(b,c){var e=this;return e.connection=d(c),e.proxy=e.connection.createHubProxy(b),e.on=function(a,b){e.proxy.on(a,b)},e.invoke=function(a,b){return e.proxy.invoke.apply(e.proxy,arguments)},e.disconnect=function(){e.connection.stop()},e.connect=function(){var a={};return c.transport&&(a.transport=c.transport),c.jsonp&&(a.jsonp=c.jsonp),angular.isDefined(c.withCredentials)&&(a.withCredentials=c.withCredentials),e.connection.start(a)},c&&c.listeners&&Object.getOwnPropertyNames(c.listeners).filter(function(a){return"function"==typeof c.listeners[a]}).forEach(function(a){e.on(a,c.listeners[a])}),c&&c.methods&&angular.forEach(c.methods,function(b){e[b]=function(){var c=a.makeArray(arguments);return c.unshift(b),e.invoke.apply(e,c)}}),c&&c.queryParams&&(e.connection.qs=c.queryParams),c&&c.errorHandler&&e.connection.error(c.errorHandler),c&&c.stateChanged&&e.connection.stateChanged(c.stateChanged),(void 0===c.autoConnect||c.autoConnect)&&(e.promise=e.connect()),e}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="SignalR");